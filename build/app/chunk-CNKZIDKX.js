import{b as F,c as I,e as m,g as R,h as M,j as P,l as k,n as N,o as O,r as T,s as A,t as q,u as D,w as j,y as L}from"./chunk-ALENL7MX.js";import{a as G}from"./chunk-BQPUOODS.js";import{b as x}from"./chunk-I66BKAGK.js";import"./chunk-ZSSD5RUB.js";import"./chunk-2LP224VR.js";import{c as E,d as w,g as y}from"./chunk-DSTAATMF.js";import"./chunk-DQSHFWXE.js";import{$b as n,Bb as a,Ib as i,Jb as e,Kb as d,Mc as C,Qb as f,Rb as b,Sc as S,Za as v,ab as l,bc as h,gb as c,nb as _,ub as s}from"./chunk-EYQN4OQ3.js";function B(r,o){r&1&&(i(0,"div",65),n(1," Full Name is required "),e())}function z(r,o){r&1&&(i(0,"div",65),n(1," National ID is required "),e())}function V(r,o){r&1&&(i(0,"div",65),n(1," Email required "),e())}function U(r,o){r&1&&(i(0,"div",65),n(1," Phone Number Required "),e())}function W(r,o){r&1&&(i(0,"div",65),n(1," Gender Required "),e())}function Y(r,o){r&1&&(i(0,"div",65),n(1," Date of Birth Required "),e())}function H(r,o){r&1&&(i(0,"div",65),n(1," Region Required "),e())}function J(r,o){r&1&&(i(0,"div",65),n(1," Driver's License Number Required "),e())}function X(r,o){r&1&&(i(0,"div",65),n(1," Region Required "),e())}function Q(r,o){r&1&&(i(0,"div",65),n(1," Password Required | min 6 characters "),e())}function Z(r,o){r&1&&(i(0,"div",65),n(1," Confirmation Password Required | min 6 characters "),e())}function $(r,o){if(r&1&&(i(0,"div",66),n(1),e()),r&2){let g=b();l(),h(" ",g.errorMessage," ")}}var K=class r{constructor(o,g,t,u){this.fb=o;this.customerService=g;this.toast=t;this.router=u;this.termsControl.valueChanges.subscribe(p=>{this.isTermsAccepted=p}),this.registrationForm=this.fb.group({region_id:["",m.required],full_name:["",m.required],national_id:["",m.required],email:["",[m.required,m.email]],phone_number:["",m.required],gender:["",m.required],dob:["",m.required],dl_no:["",m.required],password:["",[m.required,m.minLength(6)]],password1:["",[m.required,m.minLength(6)]],knowhow:["",[m.required]],role:["1"]})}registrationForm;dlImageFile=null;idImageFile=null;loading=!1;errorMessage="";knwhow=["AA Kenya Website","I am a past participant","AA Kenya Employee","Friend/Family Refarral","Social Media"];termsControl=new P(!1);isTermsAccepted=!1;onDLImageSelected(o){o.target.files.length>0&&(this.dlImageFile=o.target.files[0])}onIDImageSelected(o){o.target.files.length>0&&(this.idImageFile=o.target.files[0])}onSubmit(){if(this.registrationForm.valid&&this.dlImageFile&&this.idImageFile){this.loading=!0,this.errorMessage="";let o=this.registrationForm.value.password,g=this.registrationForm.value.password1;if(this.isTermsAccepted==!0)if(o===g){let t=new FormData;t.append("data",JSON.stringify(this.registrationForm.value)),t.append("dl_image",this.dlImageFile),t.append("id_image",this.idImageFile),console.log(this.registrationForm.value),this.customerService.registerApplicant(t).subscribe({next:u=>{this.loading=!1,this.toast.showSuccess("Success!","Your registration have been submitted successifully. Plese Login to apply for the contest"),this.router.navigate(["/login"])},error:u=>{this.loading=!1,console.log(u),this.toast.showError("Error!","Unable to register: "+u.error)}})}else this.toast.showError("Error!","Wrong Confirmation Password. Please use password you can remember"),this.loading=!1;else this.toast.showError("Error!","Please Accept Terms & Conditions for the AAKenya Best Driver Contest"),this.loading=!1}}get full_name(){return this.registrationForm.get("full_name")}get national_id(){return this.registrationForm.get("national_id")}get email(){return this.registrationForm.get("email")}get phone_number(){return this.registrationForm.get("phone_number")}get gender(){return this.registrationForm.get("gender")}get dob(){return this.registrationForm.get("dob")}get dl_no(){return this.registrationForm.get("dl_no")}get password(){return this.registrationForm.get("password")}get password1(){return this.registrationForm.get("password1")}get region_id(){return this.registrationForm.get("region_id")}get knowhow(){return this.registrationForm.get("knowhow")}static \u0275fac=function(g){return new(g||r)(c(j),c(G),c(x),c(E))};static \u0275cmp=_({type:r,selectors:[["app-register"]],decls:155,vars:16,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["href",v`https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css`,"rel","stylesheet"],["href",v`https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css`,"rel","stylesheet"],[1,"container"],[1,"login-card"],[1,"login-header"],[1,"login-icon"],["routerLink","/bestdrivercontest"],["src","assets/dist/images/logo/byd1.png",2,"height","150px"],[2,"color","#00644C"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-sm-6"],[1,"form-group"],["for","full_name"],["type","text","id","full_name","formControlName","full_name","name","full_name",1,"form-control"],["class","error",4,"ngIf"],["for","national_id"],["type","text","id","national_id","formControlName","national_id","name","national_id",1,"form-control"],["for","email"],["type","email","id","email","formControlName","email","name","email",1,"form-control"],["for","phone_number"],["type","tel","id","phone_number","formControlName","phone_number","name","phone_number",1,"form-control"],["for","gender"],["id","gender","formControlName","gender","name","gender",1,"form-control"],["value",""],["value","male"],["value","female"],["for","dob"],["type","date","id","dob","name","dob","formControlName","dob",1,"form-control"],["for","region_id"],["id","region_id","formControlName","region_id","name","region_id",1,"form-control"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["for","dl_no"],["type","text","id","dl_no","name","dl_no","formControlName","dl_no",1,"form-control"],[1,"col-sm-12"],["for","knowhow_id"],["id","knowhow","formControlName","knowhow","name","knowhow",1,"form-control"],["for","password"],["type","password","id","password","formControlName","password","name","password",1,"form-control"],["type","password","id","password1","formControlName","password1",1,"form-control"],[1,"col-6"],["for","dl_image"],["type","file","id","dl_image","accept","image/*",1,"form-control",3,"change"],["for","id_image"],["type","file","id","id_image","accept","image/*",1,"form-control",3,"change"],[1,"col-12"],[1,"icheck-primary"],["type","checkbox","id","agreeTerms","name","terms","value","agree",3,"formControl"],["for","agreeTerms"],["href","#"],["class","text-red-500",4,"ngIf"],["type","submit",1,"btn","btn-login","btn-success",3,"disabled"],[1,"register-link"],[1,"mb-0"],["routerLink","/login",1,"text-decoration-none"],[2,"width","100%","text-align","center"],["href","https://www.aakenya.co.ke","target","_blank",2,"color","#006544"],[1,"error"],[1,"text-red-500"]],template:function(g,t){g&1&&(i(0,"html",0)(1,"head"),d(2,"meta",1)(3,"meta",2),i(4,"title"),n(5,"AA Kenya:: Best Driver Contest"),e(),d(6,"link",3)(7,"link",4),e(),i(8,"body")(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"a",9),d(14,"img",10),e()(),i(15,"h3",11),n(16,"REGISTRATION FORM"),e()(),i(17,"form",12),f("ngSubmit",function(){return t.onSubmit()}),i(18,"div",13)(19,"div",14)(20,"div",15)(21,"label",16),n(22,"Full Name"),e(),d(23,"input",17),e(),s(24,B,2,0,"div",18),e(),i(25,"div",14)(26,"div",15)(27,"label",19),n(28,"National ID"),e(),d(29,"input",20),e(),s(30,z,2,0,"div",18),e()(),i(31,"div",13)(32,"div",14)(33,"div",15)(34,"label",21),n(35,"Email"),e(),d(36,"input",22),e(),s(37,V,2,0,"div",18),e(),i(38,"div",14)(39,"div",15)(40,"label",23),n(41,"Phone Number"),e(),d(42,"input",24),e(),s(43,U,2,0,"div",18),e()(),i(44,"div",13)(45,"div",14)(46,"div",15)(47,"label",25),n(48,"Gender"),e(),i(49,"select",26)(50,"option",27),n(51,"Select Gender"),e(),i(52,"option",28),n(53,"Male"),e(),i(54,"option",29),n(55,"Female"),e()()(),s(56,W,2,0,"div",18),e(),i(57,"div",14)(58,"div",15)(59,"label",30),n(60,"Date of Birth"),e(),d(61,"input",31),e(),s(62,Y,2,0,"div",18),e()(),i(63,"div",13)(64,"div",14)(65,"div",15)(66,"label",32),n(67,"Preferred Region"),e(),i(68,"select",33)(69,"option",27),n(70,"---Select---"),e(),i(71,"option",34),n(72,"Nairobi"),e(),i(73,"option",35),n(74,"Nakuru"),e(),i(75,"option",36),n(76,"Kisumu"),e(),i(77,"option",37),n(78,"Eldoret"),e(),i(79,"option",38),n(80,"Mombasa"),e(),i(81,"option",39),n(82,"Nyeri"),e()()(),s(83,H,2,0,"div",18),e(),i(84,"div",14)(85,"div",15)(86,"label",40),n(87,"Driver's License Number"),e(),d(88,"input",41),e(),s(89,J,2,0,"div",18),e()(),i(90,"div",13)(91,"div",42)(92,"div",15)(93,"label",43),n(94,"How did you know about this Event?"),e(),i(95,"select",44)(96,"option"),n(97,"---Select---"),e(),i(98,"option"),n(99,"AA Kenya Website"),e(),i(100,"option"),n(101,"I am a past participant"),e(),i(102,"option"),n(103,"AA Kenya Employee"),e(),i(104,"option"),n(105,"Friend/Family Refarral"),e(),i(106,"option"),n(107,"Social Media"),e()()(),s(108,X,2,0,"div",18),e()(),i(109,"div",13)(110,"div",14)(111,"div",15)(112,"label",45),n(113,"Create Password"),e(),d(114,"input",46),e(),s(115,Q,2,0,"div",18),e(),i(116,"div",14)(117,"div",15)(118,"label",45),n(119,"Confirm Password"),e(),d(120,"input",47),e(),s(121,Z,2,0,"div",18),e()(),i(122,"div",13)(123,"div",48)(124,"div",15)(125,"label",49),n(126,"Driver's License Image"),e(),i(127,"input",50),f("change",function(p){return t.onDLImageSelected(p)}),e()()(),i(128,"div",48)(129,"div",15)(130,"label",51),n(131,"ID Image"),e(),i(132,"input",52),f("change",function(p){return t.onIDImageSelected(p)}),e()()()(),i(133,"div",13)(134,"div",53)(135,"div",54),d(136,"input",55),i(137,"label",56),n(138," I agree to the "),i(139,"a",57),n(140,"terms & Conditions"),e()()()()(),s(141,$,2,1,"div",58),i(142,"button",59),n(143),e()(),i(144,"div",60)(145,"p",61),n(146,"I already have an account "),i(147,"a",62),n(148,"Login"),e()()(),d(149,"br"),i(150,"h6",63),n(151,"Copyright \xA9 2025 "),i(152,"a",64),n(153,"AA Kenya"),e(),n(154,". All rights reserved."),e()()()()()),g&2&&(l(17),a("formGroup",t.registrationForm),l(7),a("ngIf",(t.full_name==null?null:t.full_name.invalid)&&(t.full_name==null?null:t.full_name.touched)),l(6),a("ngIf",(t.national_id==null?null:t.national_id.invalid)&&(t.national_id==null?null:t.national_id.touched)),l(7),a("ngIf",(t.email==null?null:t.email.invalid)&&(t.email==null?null:t.email.touched)),l(6),a("ngIf",(t.phone_number==null?null:t.phone_number.invalid)&&(t.phone_number==null?null:t.phone_number.touched)),l(13),a("ngIf",(t.gender==null?null:t.gender.invalid)&&(t.gender==null?null:t.gender.touched)),l(6),a("ngIf",(t.dob==null?null:t.dob.invalid)&&(t.dob==null?null:t.dob.touched)),l(21),a("ngIf",(t.region_id==null?null:t.region_id.invalid)&&(t.region_id==null?null:t.region_id.touched)),l(6),a("ngIf",(t.dl_no==null?null:t.dl_no.invalid)&&(t.dl_no==null?null:t.dl_no.touched)),l(19),a("ngIf",(t.region_id==null?null:t.region_id.invalid)&&(t.region_id==null?null:t.region_id.touched)),l(7),a("ngIf",(t.password==null?null:t.password.invalid)&&(t.password==null?null:t.password.touched)),l(6),a("ngIf",(t.password1==null?null:t.password1.invalid)&&(t.password1==null?null:t.password1.touched)),l(15),a("formControl",t.termsControl),l(5),a("ngIf",t.errorMessage),l(),a("disabled",!t.registrationForm.valid||!t.dlImageFile||!t.idImageFile||t.loading),l(),h(" ",t.loading?"Registering...":"Register"," "))},dependencies:[S,C,L,k,q,D,I,F,A,R,M,N,O,T,y,w],styles:['body[_ngcontent-%COMP%]{position:relative;min-height:100vh;display:flex;align-items:center;justify-content:center;background:url("./media/2R6A1583-PHW3VXRU.jpg") no-repeat center center fixed;background-size:cover}body[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(120deg,#f5eb6c99,#0aaa4299);z-index:0}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;position:relative;z-index:1}.login-card[_ngcontent-%COMP%]{background:#fffffff2;opacity:.8;border-radius:1rem;box-shadow:0 0 20px #00000026;overflow:hidden;max-width:800px;width:90%;padding:2rem;transition:transform .3s ease;margin:auto;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.login-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.login-icon[_ngcontent-%COMP%]{background:none;width:100px;height:150px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 1rem}.login-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;color:#fff}.form-floating[_ngcontent-%COMP%]{margin-bottom:1rem}.form-control[_ngcontent-%COMP%]:focus{border-color:#d2e42d;box-shadow:0 0 0 .25rem #b7b9b740}.btn-login[_ngcontent-%COMP%]{background:#046241;border:none;padding:.8rem;font-weight:500;width:100%;margin-top:1rem;transition:all .3s ease}.btn-login[_ngcontent-%COMP%]:hover{background:#fcd738;transform:translateY(-2px)}.social-login[_ngcontent-%COMP%]{margin-top:2rem;text-align:center}.social-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;margin:0 .5rem;color:#fff;transition:transform .3s ease}.social-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.facebook[_ngcontent-%COMP%]{background:#3b5998}.google[_ngcontent-%COMP%]{background:#db4437}.twitter[_ngcontent-%COMP%]{background:#1da1f2}.register-link[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem}.form-control[_ngcontent-%COMP%]{background:#ffffffe6}.form-control[_ngcontent-%COMP%]:focus{background:#fffffff2}.error[_ngcontent-%COMP%]{color:red;font-size:.8em;margin-top:5px}.error-message[_ngcontent-%COMP%]{color:red;text-align:center}.hold-transition[_ngcontent-%COMP%]{width:100%}.mileage-heading[_ngcontent-%COMP%]{color:#daa520;font-family:Courier New,Courier,monospace}.loading-part[_ngcontent-%COMP%]{text-align:center}h3[_ngcontent-%COMP%]{font-size:large}']})};export{K as RegisterComponent};
