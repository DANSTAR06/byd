import{a as h}from"./chunk-2LP224VR.js";import{$ as p,F as n,Zc as l,_c as g,ea as o,u as i}from"./chunk-EYQN4OQ3.js";var m=class s{constructor(t){this.http=t}apiUrl=h.apiUrl;getExpiryDate(){let t=new Date,e=new Date(t.getFullYear(),t.getMonth()+1,14);return t.getMonth()===11&&e.setFullYear(t.getFullYear()+1),e}getFormattedExpiryDate(){return this.getExpiryDate().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}getISOFormattedExpiryDate(){let t=this.getExpiryDate(),e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return`${e}-${r}-${a}`}calculateMileage(t,e,r,a,c){return this.http.get(this.apiUrl+"/mileage-info?model_type="+t+"&car_capacity="+e+"&fuel_type="+r+"&vehicle_type="+a+"&manufacture_year="+c)}saveReport(t){return this.http.post(this.apiUrl+"/generatedReports/create",t).pipe(i(e=>e),n(e=>{throw console.error("Saving failed",e),e}))}getCustomerBasicPayments(t){return this.http.get(this.apiUrl+"/payments/userPackagePayments?account_number="+t+"&package_type=1")}getCustomerReportsAndExpenses(t){return this.http.get(this.apiUrl+"/generatedReports/customer?customer_id="+t)}getReportById(t){return this.http.get(this.apiUrl+"/generatedReportById?id="+t)}getVariables(){return this.http.get(this.apiUrl+"/variableCosts")}saveVariables(t,e){return this.http.put(this.apiUrl+"/variableCosts/"+e,t)}getAllReports(t,e,r){let a=new l().set("search",t).set("page",e.toString()).set("pageSize",r.toString());return this.http.get(this.apiUrl+"/generatedReports",{params:a})}getReportsBetweenDates(t,e){return this.http.get(`${this.apiUrl}/generatedReports/dateRage?startDate=${t}&endDate=${e}`)}getVehicleRates(){return this.http.get(this.apiUrl+"/mileageDetails")}saveFixedRates(t,e){return this.http.put(this.apiUrl+"/mileageDetails/"+e,t)}static \u0275fac=function(e){return new(e||s)(o(g))};static \u0275prov=p({token:s,factory:s.\u0275fac,providedIn:"root"})};export{m as a};
