import{a as u}from"./chunk-RITIWUCH.js";import{$ as o,F as n,_c as p,ea as a,u as r}from"./chunk-EYQN4OQ3.js";var h=class i{constructor(s){this.http=s}baseUrl=u.apiUrl;userAnswers=[];getQuestions(s,e,t){return this.http.get(`${this.baseUrl}/questions/withChoices?category_id=${s}&page_size=${e}&page=${t}`)}setAnswer(s,e){let t=this.userAnswers.findIndex(l=>l.questionId===s);t!==-1?this.userAnswers[t].selectedChoiceId=e:this.userAnswers.push({questionId:s,selectedChoiceId:e})}getAnswer(s){let e=this.userAnswers.find(t=>t.questionId===s);return e?e.selectedChoiceId:null}getAllAnswers(){return[...this.userAnswers]}subAnswers(s){return this.http.post(this.baseUrl+"/answers",s).pipe(r(e=>e),n(e=>{throw console.error("Saving failed",e),e}))}getResults(s){return this.http.get(`${this.baseUrl}/answers/byApplicant?applicant_id=${s}`)}getAllQuestionsWithChoices(s,e){let t={category_id:"1",page:s.toString(),page_size:e.toString()};return this.http.get(this.baseUrl+"/questions/withChoices",{params:t})}getAllQuestionsWithoutChoices(){return this.http.get(this.baseUrl+"/questions/byCategory?category_id=1")}updateQuestion(s,e){return this.http.put(this.baseUrl+"/questions/"+e,s)}updateChoice(s,e){return this.http.put(this.baseUrl+"/choices/"+e,s)}submitQuestion(s){return this.http.post(this.baseUrl+"/questions",s).pipe(r(e=>e),n(e=>{throw console.error("Saving failed",e),e}))}submitQuestionChoice(s){return this.http.post(this.baseUrl+"/choices",s).pipe(r(e=>e),n(e=>{throw console.error("Saving failed",e),e}))}craeteSubmission(s){return this.http.post(this.baseUrl+"/submissions",s).pipe(r(e=>e),n(e=>{throw console.error("Saving failed",e),e}))}getSubmissions(s){return this.http.get(`${this.baseUrl}/submissions?id=${s}`)}deleteApplicantAnswers(s){return this.http.delete(`${this.baseUrl}/answers/${s}?applicant_id=${s}`)}static \u0275fac=function(e){return new(e||i)(a(p))};static \u0275prov=o({token:i,factory:i.\u0275fac,providedIn:"root"})};export{h as a};
