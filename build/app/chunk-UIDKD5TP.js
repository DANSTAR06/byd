import{a as u}from"./chunk-FVU4BDPN.js";import{c}from"./chunk-DSTAATMF.js";import{$ as n,ea as i,u as o}from"./chunk-EYQN4OQ3.js";var s=class r{constructor(t,e){this.authService=t;this.router=e}canActivate(t,e){return this.authService.isAuthenticated$().pipe(o(p=>{if(!p)return this.router.navigate(["/login"],{queryParams:{returnUrl:e.url}}),!1;let a=this.authService.currentUserValue;return t.data.roles&&a&&!t.data.roles.includes(a.role)?(this.router.navigate(["/login"]),!1):!0}))}static \u0275fac=function(e){return new(e||r)(i(u),i(c))};static \u0275prov=n({token:r,factory:r.\u0275fac,providedIn:"root"})};export{s as a};
