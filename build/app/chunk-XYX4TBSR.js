import{c as M,e as f,g as k,h as P,l as O,o as L,r as E,v as F,w as I,y as A}from"./chunk-ALENL7MX.js";import{a as S}from"./chunk-FVU4BDPN.js";import{b as y}from"./chunk-I66BKAGK.js";import"./chunk-ZSSD5RUB.js";import"./chunk-2LP224VR.js";import{c as x,d as _,g as w}from"./chunk-DSTAATMF.js";import"./chunk-DQSHFWXE.js";import{$b as i,Bb as s,Ib as e,Jb as n,Kb as o,Mc as v,Qb as b,Rb as h,Sc as C,Za as p,ab as m,gb as d,nb as u,ub as c}from"./chunk-EYQN4OQ3.js";function R(r,l){r&1&&(e(0,"div",35),i(1," Valid email is required "),n())}function N(r,l){r&1&&(e(0,"div",35),i(1," Password is required "),n())}function T(r,l){if(r&1&&(e(0,"button",36),o(1,"i",37),i(2,"Login "),n()),r&2){let a=h();s("disabled",a.loginForm.invalid)}}function G(r,l){r&1&&(e(0,"span"),o(1,"div",38)(2,"div",39)(3,"div",40),n())}var j=class r{constructor(l,a,t,g){this.fb=l;this.authService=a;this.router=t;this.toastService=g}loginForm;errorMessage="";isLoading=!1;ngOnInit(){this.loginForm=this.fb.group({email:["",[f.required,f.email]],password:["",[f.required]]})}onSubmit(){if(this.loginForm.valid){this.isLoading=!0;let{email:l,password:a}=this.loginForm.value;this.authService.login(l,a).subscribe({next:t=>{this.isLoading=!1;let g=t.role;g=="1"?this.router.navigate(["/driver/dashboard"]):g=="2"?this.router.navigate(["/admin/dashboard"]):this.toastService.showError("Inactive Account","Your Account is Inacative. Please contact Admin for assistance")},error:t=>{this.isLoading=!1,this.errorMessage=t.message||"Login failed"}})}}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}static \u0275fac=function(a){return new(a||r)(d(I),d(S),d(x),d(y))};static \u0275cmp=u({type:r,selectors:[["app-login"]],decls:52,vars:5,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["rel","icon","href",p`/src/assets/dist/images/bydico.ico`],["href",p`https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css`,"rel","stylesheet"],["href",p`https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css`,"rel","stylesheet"],[1,"container"],[1,"login-card"],[1,"login-header"],[1,"login-icon"],["routerLink","/bestdrivercontest"],["src","assets/dist/images/logo/byd1.png",2,"height","150px"],[2,"color","#00644C"],[3,"ngSubmit","formGroup"],[1,"input-group","mb-3"],["type","email","formControlName","email","placeholder","Enter Email","id","email","required","",1,"form-control"],[1,"input-group-append"],[1,"input-group-text"],[1,"fas","fa-envelope"],["class","error",4,"ngIf"],["type","password","formControlName","password","placeholder","Enter Password","id","password","required","",1,"form-control"],[1,"fas","fa-lock"],[1,"d-flex","justify-content-between","mb-3"],[1,"form-check"],["type","checkbox","id","remember",1,"form-check-input"],["for","remember",1,"form-check-label"],["routerLink","/password-reset",1,"text-decoration-none"],["type","submit","class","btn btn-login btn-success",3,"disabled",4,"ngIf"],[1,"loading-part"],[4,"ngIf"],[1,"register-link"],[1,"mb-0"],["routerLink","/register",1,"text-decoration-none"],[2,"width","100%","text-align","center"],["href","https://www.aakenya.co.ke","target","_blank",2,"color","#00644C"],[1,"error"],["type","submit",1,"btn","btn-login","btn-success",3,"disabled"],[1,"fas","fa-sign-in-alt","me-2"],[1,"spinner-grow","text-success"],[1,"spinner-grow","text-secondary"],[1,"spinner-grow","text-warning"]],template:function(a,t){a&1&&(e(0,"html",0)(1,"head"),o(2,"meta",1)(3,"meta",2),e(4,"title"),i(5,"AA Kenya:: Best Driver Contest"),n(),o(6,"link",3)(7,"link",4)(8,"link",5),n(),e(9,"body")(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",9)(14,"a",10),o(15,"img",11),n()(),e(16,"h3",12),i(17,"LOGIN FORM"),n()(),e(18,"form",13),b("ngSubmit",function(){return t.onSubmit()}),e(19,"div",14),o(20,"input",15),e(21,"div",16)(22,"div",17),o(23,"span",18),n()()(),c(24,R,2,0,"div",19),e(25,"div",14),o(26,"input",20),e(27,"div",16)(28,"div",17),o(29,"span",21),n()()(),c(30,N,2,0,"div",19),e(31,"div",22)(32,"div",23),o(33,"input",24),e(34,"label",25),i(35,"Remember me"),n()(),e(36,"a",26),i(37,"Forgot password?"),n()(),c(38,T,3,1,"button",27),e(39,"div",28),c(40,G,4,0,"span",29),n()(),e(41,"div",30)(42,"p",31),i(43,"Don't have an account? "),e(44,"a",32),i(45,"Register"),n()()(),o(46,"br"),e(47,"h6",33),i(48,"Copyright \xA9 2025 "),e(49,"a",34),i(50,"AA Kenya"),n(),i(51,". All rights reserved."),n()()()()()),a&2&&(m(18),s("formGroup",t.loginForm),m(6),s("ngIf",(t.email==null?null:t.email.invalid)&&(t.email==null?null:t.email.touched)),m(6),s("ngIf",(t.password==null?null:t.password.invalid)&&(t.password==null?null:t.password.touched)),m(8),s("ngIf",t.isLoading==!1),m(2),s("ngIf",t.isLoading==!0))},dependencies:[C,v,A,O,M,k,P,F,L,E,w,_],styles:['body[_ngcontent-%COMP%]{position:relative;min-height:100vh;display:flex;align-items:center;justify-content:center;background:url("./media/2R6A9822-HUKAVV4G.jpg") no-repeat center center fixed;background-size:cover;background-repeat:no-repeat}body[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(120deg,#f5eb6c99,#0aaa4299);z-index:0}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;position:relative;z-index:1}.login-card[_ngcontent-%COMP%]{background:#fffffff2;opacity:.8;border-radius:1rem;box-shadow:0 0 20px #00000026;overflow:hidden;max-width:400px;width:90%;padding:2rem;transition:transform .3s ease;margin:auto;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.login-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.login-icon[_ngcontent-%COMP%]{background:none;width:100px;height:150px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 1rem}.login-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;color:#fff}.form-floating[_ngcontent-%COMP%]{margin-bottom:1rem}.form-control[_ngcontent-%COMP%]:focus{border-color:#d2e42d;box-shadow:0 0 0 .25rem #b7b9b740}.btn-login[_ngcontent-%COMP%]{background:#046241;border:none;padding:.8rem;font-weight:500;width:100%;margin-top:1rem;transition:all .3s ease}.btn-login[_ngcontent-%COMP%]:hover{background:#fcd738;transform:translateY(-2px)}.social-login[_ngcontent-%COMP%]{margin-top:2rem;text-align:center}.social-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;margin:0 .5rem;color:#fff;transition:transform .3s ease}.social-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.facebook[_ngcontent-%COMP%]{background:#3b5998}.google[_ngcontent-%COMP%]{background:#db4437}.twitter[_ngcontent-%COMP%]{background:#1da1f2}.register-link[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem}.form-control[_ngcontent-%COMP%]{background:#ffffffe6}.form-control[_ngcontent-%COMP%]:focus{background:#fffffff2}.error[_ngcontent-%COMP%]{color:red;font-size:.8em;margin-top:5px}.error-message[_ngcontent-%COMP%]{color:red;text-align:center}.hold-transition[_ngcontent-%COMP%]{width:100%}.mileage-heading[_ngcontent-%COMP%]{color:#daa520;font-family:Courier New,Courier,monospace}.loading-part[_ngcontent-%COMP%]{text-align:center}h3[_ngcontent-%COMP%]{font-size:large}']})};export{j as LoginComponent};
